Speak={fullString:"",status:!1,time:500,Start:function(){setInterval(function(){chrome.tts.isSpeaking(function(t){0==t&&Speak.fullString.length>0&&Speak.ReadText(Speak.fullString)})},this.time);chrome.contextMenus.removeAll(function(){}),chrome.contextMenus.create({type:"normal",title:"ОЗВУЧИТЬ ТЕКСТ",contexts:["selection"],onclick:function(t,e){Speak.ReadText(t.selectionText)}})},ReadText:function(t){var e=t.split(" ");e.length>20?(Speak.fullString=e.slice(20).join(" "),this.time=0):(Speak.fullString=0,this.time=1e3),chrome.tts.speak(e.slice(0,20).join(" "),{rate:.8})}},window.onload=function(){Speak.Start()};